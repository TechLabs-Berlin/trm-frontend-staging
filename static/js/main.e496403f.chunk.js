(this["webpackJsonptrm-frontend"]=this["webpackJsonptrm-frontend"]||[]).push([[0],{1019:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),i=(a(594),a(595),a(484)),o=a(485),s=a(555),m=a(558),u=a(1130),d=a(1129),E=a(68),f=a.n(E),p=a(116),b=a(282),g=a(556),h=a(191),v=a(247),_=a(107),y=a(248),O=a(9),j="https://trm-staging-hasura-xwaitoan6a-ew.a.run.app/v1/graphql",S="https://europe-west3-techlabs-trm-test.cloudfunctions.net/trm-auth-staging",k={clientId:"982186032389-28u4o2ui0up26vtp6ajp4ce7kqd69p7v.apps.googleusercontent.com",hostedDomain:"techlabs.org"},C=null,w=function(){return null!==localStorage.getItem("token")},T=function(){var e=localStorage.getItem("token");return new b.a({headers:{Authorization:"Bearer ".concat(e)},uri:j})},A=function(){var e=T(),t=function(e){var t=Object(_.c)(e);return"form_responses"===e.name&&(t.push(O.field(O.name("form"),null,null,null,O.selectionSet([O.field(O.name("form_type")),O.field(O.name("description"))]))),t.push(O.field(O.name("techie"),null,null,null,O.selectionSet([O.field(O.name("id")),O.field(O.name("first_name")),O.field(O.name("last_name"))])))),t},a=Object(h.a)(v.a,(function(e){return Object(_.d)(e,t,_.e,_.b,_.a)}),y.a);return Object(g.a)({client:e,buildQuery:a})},P=Object(p.a)(f.a.mark((function e(){var t=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==C||!w()){e.next=4;break}return e.next=3,A();case 3:C=e.sent;case 4:if(null===C){e.next=6;break}return e.abrupt("return",C.apply(void 0,t));case 6:return e.abrupt("return",Promise.reject("not logged in"));case 7:case"end":return e.stop()}}),e)}))),N={login:function(e){var t=e.code,a=new Request(S,{method:"POST",body:JSON.stringify({code:t}),headers:new Headers({"Content-Type":"application/json"})});return fetch(a).then((function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){var t=e.token;localStorage.setItem("token",t)}))},logout:function(){return localStorage.removeItem("token"),Promise.resolve()},checkAuth:function(e){return localStorage.getItem("token")?Promise.resolve():Promise.reject()},checkError:function(e){return console.log("checkError: ".concat(e)),Promise.resolve()},getPermissions:function(){var e=localStorage.getItem("permissions");return e?Promise.resolve(e):Promise.reject()}},x=a(42),I=a(249),L=a(250),R=Object(x.a)({trm:{menu:{techies:"Techies",applications:"Applications",academy:"Academy",techieActivity:"Techie Activity",csvImport:"CSV Import",settings:"Settings"}},resources:{techies:{name:"Techie |||| Techies",fields:{first_name:"First Name",last_name:"Last Name",techie_key:"Techie Key",application_track_choice:"Application Track Choice",google_account:"Google Account",github_handle:"GitHub Handle",edyoucated_handle:"edyoucated Handle",linkedin_profile_url:"LinkedIn Profile URL",slack_member_id:"Slack Member ID",receives_certificate:"Receives Certificate"}},forms:{name:"Form |||| Forms",fields:{form_id:"Typeform Form ID",imports_techies:"Imports Techies?"}},form_responses:{name:"Form Response |||| Form Responses",fields:{"form.description":"Form","techie.first_name":"First Name","techie.last_name":"Last Name"}},team_members:{name:"Team Member |||| Team Members",fields:{first_name:"First Name",last_name:"Last Name"}},semesters:{name:"Semester |||| Semesters"}}},I.a),D=Object(L.a)((function(){return R})),F=a(26),M=a(169),U=a(353),V=a(21),B=a(96),Z=a(128),H=a(77),W=a(354),q=a.n(W),J=a(1094),z=a(1024),G=a(98),$=a(1149),X=a(1095),Y=a(1141),K=a(1096),Q=a(562),ee=a(1083),te=a(365),ae=a(290),ne=a(73),re=a(258),ce=a.n(re),le=a(259),ie=a.n(le),oe=Object(G.a)((function(e){return{validationStatus:{marginTop:e.spacing(2)},validationErrors:{marginTop:e.spacing(1)}}})),se=function(e){var t=e.csv,a=e.validation,r=e.onUpdateCSV,c=oe();return n.createElement(ee.a,{container:!0,spacing:3},n.createElement(ee.a,{item:!0,sm:12,md:12,xl:8},n.createElement(te.a,{square:!0,elevation:0},n.createElement(ae.a,{label:"CSV",multiline:!0,fullWidth:!0,rows:10,variant:"outlined",onChange:function(e){return r(e.target.value)},value:t}),n.createElement(ne.a,{className:c.validationStatus},a.valid?n.createElement(ne.a,{variant:"body1"},n.createElement(ce.a,{style:{verticalAlign:"top",marginRight:"5px"}}),"CSV is ",n.createElement("strong",null,"valid"),"."):n.createElement("div",null,n.createElement(ne.a,{variant:"body1",color:"secondary"},n.createElement(ie.a,{style:{verticalAlign:"top",marginRight:"5px"}}),"CSV is ",n.createElement("strong",null,"invalid"),"."),n.createElement("ul",{className:c.validationErrors},Object.entries(a.errors).map((function(e){var t=Object(V.a)(e,2),a=t[0],r=t[1];return n.createElement("li",{key:a},n.createElement("strong",null,a),": ",r.join(", "))}))))))),n.createElement(ee.a,{item:!0,sm:12,md:12,xl:4},n.createElement(ne.a,{variant:"h5"},"Documentation"),n.createElement(ne.a,{variant:"body1"},n.createElement("p",null,"Techies are identified by their ",n.createElement("strong",null,"email"),".",n.createElement("br",null),"Enter CSV in the text field with ",n.createElement("strong",null,'separator ";"'),".")),n.createElement(ne.a,{variant:"body1"},n.createElement("p",null,"The ",n.createElement("strong",null,"email")," field is always needed to identify Techies. You can update the following attributes:",n.createElement("ul",null,n.createElement("li",null,n.createElement("strong",null,"first_name")),n.createElement("li",null,n.createElement("strong",null,"last_name")),n.createElement("li",null,n.createElement("strong",null,"notes")),n.createElement("li",null,n.createElement("strong",null,"google_account")),n.createElement("li",null,n.createElement("strong",null,"github_handle")),n.createElement("li",null,n.createElement("strong",null,"edyoucated_handle")),n.createElement("li",null,n.createElement("strong",null,"linkedin_profile_url")),n.createElement("li",null,n.createElement("strong",null,"age")),n.createElement("li",null,n.createElement("strong",null,"state"),": one of ",n.createElement("i",null,"PROSPECT"),", ",n.createElement("i",null,"APPLICANT"),", ",n.createElement("i",null,"REJECTED"),", ",n.createElement("i",null,"LEARNER"),", ",n.createElement("i",null,"DROPPED"),", or ",n.createElement("i",null,"ALUMNI")),n.createElement("li",null,n.createElement("strong",null,"track"),": one of ",n.createElement("i",null,"DS"),", ",n.createElement("i",null,"AI"),", ",n.createElement("i",null,"WEBDEV"),", or ",n.createElement("i",null,"UX")),n.createElement("li",null,n.createElement("strong",null,"application_successful"),": ",n.createElement("i",null,"0")," or ",n.createElement("i",null,"1")),n.createElement("li",null,n.createElement("strong",null,"gender"),": one of ",n.createElement("i",null,"male"),", or ",n.createElement("i",null,"female")))))))},me=a(1089),ue=a(1144),de=a(1131),Ee=a(1093),fe=function(e){var t=e.record,a=void 0===t?{}:t,r=Object.entries(a.changes).reduce((function(e,t){var r=Object(V.a)(t,2),c=r[0],l=r[1];if(!a.attributes)return e;var i=n.createElement("i",null,"None");return a.attributes&&c in a.attributes&&(i=n.createElement(n.Fragment,null,a.attributes[c])),e.push(n.createElement("li",{key:c},c,": ",i," \u2192 ",l)),e}),[]);return n.createElement("ul",null,r)},pe=function(e){var t=e.records;return e.isReady?n.createElement(ue.a,{value:{data:t,ids:Object.keys(t),total:Object.keys(t).length,currentSort:{field:"id",order:"ASC"},basePath:"/posts",resource:"posts",selectedIds:[]}},n.createElement(de.a,null,n.createElement(Ee.a,{source:"state",sortable:!1}),n.createElement(Ee.a,{source:"id",sortable:!1}),n.createElement(fe,{source:"changes",sortable:!1}))):n.createElement(me.a,null)},be=a(561),ge=Object(G.a)((function(e){return{resultContainer:{padding:e.spacing(2),width:"400px"},updateStats:{"&:first-child":{marginTop:e.spacing(2)},"&:not(:last-child)":{marginBottom:e.spacing(2)}},failedList:{marginTop:0,listStylePosition:"inside"}}})),he=function(e){var t=e.records,a=e.isUpdateRunning,r=ge(),c=Object.values(t).filter((function(e){return"PENDING"===e.updateState})).length,l=Object.values(t).filter((function(e){return"SUCCESSFUL"===e.updateState})).length,i=Object.entries(t).reduce((function(e,t){var a=Object(V.a)(t,2),n=a[0],r=a[1];if("FAILED"===r.updateState){var c=n;"updateError"in r&&(c+=": "+r.updateError),e.push(c)}return e}),[]);return n.createElement(te.a,{square:!0,elevation:2,className:r.resultContainer},a?n.createElement(ne.a,{variant:"h4",align:"center",color:"secondary"},n.createElement(be.a,{style:{verticalAlign:"top",marginRight:"10px"}}),"Update running\u2026"):n.createElement(ne.a,{variant:"h4",align:"center",color:"secondary"},n.createElement(ce.a,{fontSize:"large",style:{verticalAlign:"top",marginRight:"10px"}}),"Update finished."),n.createElement("div",null,n.createElement(ne.a,{align:"center",className:r.updateStats},n.createElement("strong",null,"Pending Updates:")," ",c),n.createElement(ne.a,{align:"center",className:r.updateStats},n.createElement("strong",null,"Successful Updates:")," ",l),n.createElement(ne.a,{align:"center",className:r.updateStats},n.createElement("strong",null,"Failed Updates:"),0===i.length?" None":n.createElement("ul",{className:r.failedList},i.map((function(e){return n.createElement("li",{key:e},e)}))))))},ve=Object(G.a)((function(e){return{button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)}}}));var _e=function(){var e=Object(p.a)(f.a.mark((function e(t,a){var n,r,c,l,i,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>2&&void 0!==o[2]?o[2]:1/0,r=Symbol(),c=t.slice(0,n).map(a),l=t.slice(n);case 3:if(!c.length){e.next=10;break}return e.next=6,Promise.race(c.map((function(e){return e.then((function(){e[r]=!0}))})));case 6:c=c.filter((function(e){return!e[r]})),(i=c).push.apply(i,Object(B.a)(l.splice(0,n-c.length).map(a))),e.next=3;break;case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ye={email:function(){return[]},first_name:function(){return[]},last_name:function(){return[]},notes:function(){return[]},google_account:function(){return[]},github_handle:function(){return[]},edyoucated_handle:function(){return[]},linkedin_profile_url:function(){return[]},age:function(){return[]},state:function(e){var t=["PROSPECT","APPLICANT","LEARNER","DROPPED","ALUMNI"];return t.includes(e)?[]:["".concat(e," not in ").concat(t.join(", "))]},track:function(e){var t=["DS","AI","WEBDEV","UX"];return t.includes(e)?[]:["".concat(e," not in ").concat(t.join(", "))]},application_successful:function(e){var t=["0","1"];return t.includes(e)?[]:["".concat(e," not in ").concat(t.join(", "))]},gender:function(e){var t=["male","female"];return t.includes(e)?[]:["".concat(e," not in ").concat(t.join(", "))]}},Oe=function(e){var t;try{t=q()(e,{columns:!0,skip_empty_lines:!0,delimiter:";"})}catch(f){return{valid:!1,errors:{csv:[f]}}}if(0===t.length)return{valid:!1,errors:{csv:["must have at least one line"]}};if(!("email"in t[0]))return{valid:!1,errors:{email:["attribute must exist to identify Techies"]}};for(var a={valid:!0,errors:{}},n=0,r=Object.entries(ye);n<r.length;n++){var c=Object(V.a)(r[n],2),l=c[0],i=c[1];if(l in t[0]){var o,s=Object(U.a)(t);try{for(s.s();!(o=s.n()).done;){var m=i(o.value[l]);m.length>0&&(a.valid=!1,l in a.errors||(a.errors[l]=[]),a.errors[l].push(m))}}catch(f){s.e(f)}finally{s.f()}}}for(var u=0,d=Object.keys(t[0]);u<d.length;u++){var E=d[u];Object.keys(ye).includes(E)||(a.valid=!1,a.errors[E]=["is unsupported"])}return a},je=function(){var e=ve(),t=n.useState(0),a=Object(V.a)(t,2),r=a[0],c=a[1],l=n.useState("email;state\nsome.techie@gmail.com;LEARNER"),i=Object(V.a)(l,2),o=i[0],s=i[1],m=n.useState(Oe(o)),u=Object(V.a)(m,2),d=u[0],E=u[1],b=Object(Z.a)(),g=n.useState({}),h=Object(V.a)(g,2),v=h[0],_=h[1],y=n.useState(!1),O=Object(V.a)(y,2),j=O[0],S=O[1],k=n.useState(!1),C=Object(V.a)(k,2),w=C[0],T=C[1],A=["Enter CSV Data","Verify Changes","Apply Changes"];n.useEffect((function(){var e=Oe(o);if(E(e),e.valid){var t=q()(o,{columns:!0,skip_empty_lines:!0,delimiter:";"}).reduce((function(e,t){var a=t.email,n=Object(M.a)(t,["email"]);return e[a]={id:a,state:"NOT_FOUND",updateState:"PENDING",changes:n},e}),{});(function(){var e=Object(p.a)(f.a.mark((function e(){var a,n,r,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(t),e.next=3,b.getList("techies",{filter:{email:a}});case 3:n=e.sent,r=Object(U.a)(n.data),e.prev=5,r.s();case 7:if((c=r.n()).done){e.next=15;break}if((l=c.value).email in t){e.next=11;break}return e.abrupt("continue",13);case 11:t[l.email].state="FOUND",t[l.email].attributes=l;case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:_(t),S(!0);case 25:case"end":return e.stop()}}),e,null,[[5,17,20,23]])})));return function(){return e.apply(this,arguments)}})()()}}),[o,b]);var P=n.useCallback((function(){T(!0),_e(Object.entries(v),(function(e){var t=Object(V.a)(e,2),a=t[0],n=t[1];return"FOUND"===n.state&&"attributes"in n?b.update("techies",{id:n.attributes.id,data:n.changes}).then((function(){n.updateState="SUCCESSFUL",v[a]=n,_(v)})).catch((function(e){n.updateState="FAILED",n.updateError=e,v[a]=n,_(v)})):(n.updateState="FAILED",v[a]=n,_(v),Promise.resolve())}),5).then((function(){T(!1)})).catch((function(e){return console.error(e)}))}),[v,b]),N=function(){c((function(e){return e+1}))},x=function(){c((function(e){return e-1}))};return n.useEffect((function(){2===r&&P()}),[r,P]),n.createElement(J.a,null,n.createElement(H.b,{title:"CSV Import"}),n.createElement(z.a,null,n.createElement($.a,{activeStep:r,orientation:"vertical"},A.map((function(t,a){return n.createElement(X.a,{key:t},n.createElement(Y.a,null,t),n.createElement(K.a,null,function(e,t,a,r,c,l,i){switch(e){case 0:return n.createElement(se,{csv:t,onUpdateCSV:a,validation:i});case 1:return n.createElement(pe,{records:r,isReady:c});case 2:return n.createElement(he,{records:r,isUpdateRunning:l});default:return"Unknown step"}}(a,o,s,v,j,w,d),n.createElement("div",{className:e.actionsContainer},r<=A.length-2?n.createElement(n.Fragment,null,n.createElement(Q.a,{disabled:0===r,onClick:x,className:e.button},"Back"),n.createElement(Q.a,{variant:"contained",color:"primary",onClick:N,className:e.button,disabled:!d.valid},"Next")):"")))})))))},Se=a(507),ke=a(200),Ce=a(61),we=a(1132),Te=a(508),Ae=a(1150),Pe=a(1151),Ne=a(1097),xe=a(287),Ie=Object(G.a)((function(e){return{orange:{color:"white !important",backgroundColor:Ne.a[500]},grey:{backgroundColor:xe.a[200]},chip:{margin:e.spacing(.5),borderColor:xe.a[300]},chipActive:{borderColor:Ne.a[500]}}})),Le=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a,c=Ie();return t in r?n.createElement("div",null,r[t].map((function(e){return n.createElement(Ae.a,{key:e.type,className:c.chip+" "+(e.value>0&&c.chipActive),avatar:n.createElement(Pe.a,{className:e.value>0?c.orange:c.grey},e.value),label:e.type,variant:"outlined"})}))):n.createElement(n.Fragment,null)},Re=a(1098),De=function(e){var t=e.record,a=void 0===t?{}:t;return n.createElement(n.Fragment,null,n.createElement(Re.a,{badgeContent:a.track,color:"primary",anchorOrigin:{vertical:"top",horizontal:"right"}},a.first_name&&a.last_name?"".concat(a.first_name," ").concat(a.last_name):a.email))};function Fe(){var e=Object(Se.a)(["\n  query($startDate: String!, $endDate: String!) {\n    techie_activity_reports(args: {startdate: $startDate, enddate: $endDate}) {\n      type\n      value\n      week\n      year\n      techie {\n        first_name\n        last_name\n        email\n        track\n      }\n    }\n  }\n"]);return Fe=function(){return e},e}De.defaultProps={addLabel:!0};var Me=Object(b.b)(Fe()),Ue=Object(G.a)((function(e){return{filter:{marginBottom:e.spacing(2)}}})),Ve=[n.createElement(F.b,{exact:!0,path:"/csv-import",component:je}),n.createElement(F.b,{exact:!0,path:"/techie-activity",component:function(){var e=n.useState(!0),t=Object(V.a)(e,2),a=t[0],r=t[1],c=n.useState({}),l=Object(V.a)(c,2),i=l[0],o=l[1],s=n.useState([]),m=Object(V.a)(s,2),u=m[0],d=m[1],E=n.useState("2020-10-01"),b=Object(V.a)(E,2),g=b[0],h=b[1],v=n.useState("2020-12-01"),_=Object(V.a)(v,2),y=_[0],O=_[1],j=Ue();return n.useEffect((function(){(function(){var e=Object(p.a)(f.a.mark((function e(){var t,a,n,c,l,i,s,m,u,E,p,b;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T(),e.next=3,t.query({query:Me,variables:{startDate:g,endDate:y}});case 3:for(a=e.sent,n=Object(ke.groupBy)(a.data.techie_activity_reports,(function(e){return e.techie.email})),c={},l=[],i=0,s=Object.entries(n);i<s.length;i++)m=Object(V.a)(s[i],2),u=m[0],E=m[1],p={},E.length>0&&(p={first_name:E[0].techie.first_name,last_name:E[0].techie.last_name,track:E[0].techie.track}),b=Object(ke.groupBy)(E,(function(e){return"".concat(e.year,"-").concat(e.week)})),c[u]=Object(x.a)({id:u},b,{},p),l=Object.keys(b);o(c),d(l),r(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[g,y]),n.createElement(Ce.a,{utils:Te.a},n.createElement(J.a,null,n.createElement(H.b,{title:"Techie Activity"}),n.createElement(z.a,null,a?n.createElement(me.a,null):n.createElement("div",null,n.createElement(te.a,{square:!0,elevation:0,className:j.filter},n.createElement(we.a,{label:"Start Date",value:g,onChange:h,disableFuture:!0,views:["year","month"],variant:"inline"}),n.createElement(we.a,{label:"End Date",value:y,onChange:O,views:["year","month"],variant:"inline"})),n.createElement(ue.a,{value:{data:i,ids:Object.keys(i),total:Object.keys(i).length,currentSort:{field:"id",order:"ASC"},basePath:"/posts",resource:"posts",selectedIds:[]}},n.createElement(de.a,null,n.createElement(De,{sortable:!1}),u.map((function(e){return n.createElement(Le,{key:e,source:e,sortable:!1})}))))))))}})],Be=a(198),Ze=a(1103),He=a(281),We=a(1102),qe=a(566),Je=a(1104),ze=a(1105),Ge=a(553),$e=a(510),Xe=a.n($e),Ye=a(509);function Ke(){return(Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Qe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var et=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:#fb1d5c;}.cls-2{fill:#454545;}")),tt=r.a.createElement("title",null,"tl-logo"),at=r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},r.a.createElement("path",{id:"arrow",className:"cls-1",d:"M0,92.81V78A5.82,5.82,0,0,1,.84,75a6.61,6.61,0,0,1,2.74-2.39L33.73,56.9a40,40,0,0,1,8.54-3c-1.6-.4-3.11-.84-4.52-1.3a26.51,26.51,0,0,1-4-1.72L3.58,35.26A6.61,6.61,0,0,1,.84,32.87,5.83,5.83,0,0,1,0,29.8V15L65.77,49.7v8.38Z"}),r.a.createElement("path",{id:"point",className:"cls-1",d:"M75.4,88.33a13.29,13.29,0,0,1,.95-5,12.09,12.09,0,0,1,2.65-4,13.24,13.24,0,0,1,4-2.7,12.38,12.38,0,0,1,5-1,12.23,12.23,0,0,1,4.9,1,12.44,12.44,0,0,1,4,2.7,12.25,12.25,0,0,1,2.65,4,12.48,12.48,0,0,1,1,5,12.32,12.32,0,0,1-1,5,13.24,13.24,0,0,1-2.65,4,12.16,12.16,0,0,1-4,2.65,12.56,12.56,0,0,1-4.9,1,12.83,12.83,0,0,1-5-1,12.6,12.6,0,0,1-4-2.65,11.47,11.47,0,0,1-2.65-4A13.2,13.2,0,0,1,75.4,88.33Z"}),r.a.createElement("path",{className:"cls-1",d:"M178,17.2H145.45V0h84.44V17.2H197.35v83.15H178Z"}),r.a.createElement("path",{className:"cls-1",d:"M240.74,71.25c1.18,8.74,8.95,15,21.55,15,6.6,0,15.25-2.44,19.36-6.59l11.43,11C285.46,98.49,273,102.21,262,102.21c-24.92,0-39.73-15-39.73-37.7,0-21.5,14.95-37,38.41-37,24.19,0,39.29,14.63,36.51,43.73ZM280,56.77C278.86,47.59,271.53,43,261.27,43c-9.68,0-17.6,4.58-20.23,13.76Z"}),r.a.createElement("path",{className:"cls-1",d:"M373.72,91.32c-8.36,8-17.16,11.18-27.86,11.18-21,0-38.41-12.33-38.41-37.42s17.45-37.41,38.41-37.41c10.26,0,18.18,2.87,26.1,10.46L360.67,49.74a22.27,22.27,0,0,0-14.52-5.59c-12,0-20.81,8.61-20.81,20.93,0,13.48,9.38,20.65,20.52,20.65,5.72,0,11.44-1.58,15.83-5.88Z"}),r.a.createElement("path",{className:"cls-1",d:"M403.77,0V39.28c6.45-8.17,14.37-10.61,22.58-10.61,20.52,0,29.61,13.62,29.61,34.41v37.27H438.08V63.22c0-12.9-6.89-18.35-16.42-18.35-10.56,0-17.89,8.75-17.89,19.35v36.13H385.89V0Z"}),r.a.createElement("path",{className:"cls-2",d:"M495.26,0V82.86H548v17.49H475.9V0Z"}),r.a.createElement("path",{className:"cls-2",d:"M617.23,29.67h17.16v70.68H617.53L616.65,90c-4.11,8.31-15.4,12.33-23.46,12.47C571.78,102.64,556,89.74,556,64.94c0-24.37,16.57-37.13,37.68-37,9.68,0,18.91,4.45,23,11.47ZM573.84,64.94c0,13.48,9.53,21.5,21.4,21.5,28.15,0,28.15-42.86,0-42.86C583.37,43.58,573.84,51.47,573.84,64.94Z"}),r.a.createElement("path",{className:"cls-2",d:"M671.62.14V39.28C675.88,32,687.75,28,695.37,28c21.12,0,36.8,12.62,36.8,37,0,23.22-16,37-37.24,37-8.79,0-17.74-2.87-23.31-11.33l-1.17,9.75H653.74V.14Zm1.18,64.8c0,12.76,9.67,20.79,21,20.79,11.44,0,20.53-8.46,20.53-20.79,0-12.76-9.09-20.64-20.53-20.64C682.47,44.3,672.8,52.61,672.8,64.94Z"}),r.a.createElement("path",{className:"cls-2",d:"M792.72,48.45c-5.13-4.73-11-6.3-17.89-6.3-8.5,0-13.19,2.58-13.19,7s4.25,7.17,13.49,7.74c13.63.86,30.93,3.87,30.93,22.65,0,12.48-10.41,23.23-31.08,23.23-11.43,0-22.87-1.87-33.43-12.62l8.8-12.47c6.89,7,16.86,9.75,24.92,9.89,6.75.14,13.05-2.58,13.05-7.74,0-4.87-4.1-7.6-14.37-8.17-13.63-1-29.9-5.88-29.9-21.94,0-16.34,17.3-22.07,30.49-22.07,11.29,0,19.79,2.15,28.15,9.32Z"}))),nt=function(e){var t=e.svgRef,a=e.title,n=Qe(e,["svgRef","title"]);return r.a.createElement("svg",Ke({viewBox:"0 0 806.06 102.79",ref:t},n),et,void 0===a?tt:a?r.a.createElement("title",null,a):null,at)},rt=r.a.forwardRef((function(e,t){return r.a.createElement(nt,Ke({svgRef:t},e))})),ct=(a.p,Object(We.a)(te.a)({padding:"30px"})),lt=Object(Ge.a)({palette:{background:{default:Xe.a[200]}},typography:{fontFamily:["Nunito Sans","Helvetica","Arial","sans-serif"]}}),it=Object(qe.a)({root:{width:"400px",position:"absolute",left:"50%",top:"50%","-webkit-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)"},centeredBlock:{"margin-left":"auto","margin-right":"auto"},centeredText:{"text-align":"center"}}),ot=function(e){var t=Object(Be.a)(),a=Object(Ze.a)(),r=it(e),c=function(e){"code"in e?a({code:e.code}):(console.error(e),t("Sign in with Google failed"))};return n.createElement(Je.a,{theme:lt},n.createElement(ze.a,null),n.createElement(He.a,null),n.createElement("div",{className:r.root},n.createElement(ct,{elevation:3,className:r.centeredText},n.createElement(rt,{className:r.centeredBlock,alt:"TechLabs Logo"}),n.createElement("h1",{className:r.centeredText},"Techie Relationship Management"),n.createElement(Ye.GoogleLogin,{clientId:k.clientId,hostedDomain:k.hostedDomain,scope:"profile email https://www.googleapis.com/auth/admin.directory.group.readonly",responseType:"code",onSuccess:c,onFailure:c,cookiePolicy:"single_host_origin"}))))},st=Object(Ge.a)({palette:{primary:{main:"#fb1d5c"}},typography:{fontFamily:["Nunito Sans","Helvetica","Arial","sans-serif"]},overrides:{RaMenuItemLink:{root:{borderLeft:"3px solid #fff"},active:{borderLeft:"3px solid #fb1d5c"}},MuiAppBar:{colorSecondary:{backgroundColor:"#fb1d5c"}}}}),mt=a(1136),ut=a(554);function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ft=r.a.createElement("defs",null,r.a.createElement("style",null,".cls-1{fill:none;}.cls-2{fill:#fff;}")),pt=r.a.createElement("title",null,"icon_symOnly_p"),bt=r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("g",{id:"Ebene_1","data-name":"Ebene 1"},r.a.createElement("g",{id:"icon_symOnly_p"},r.a.createElement("rect",{id:"bg",className:"cls-1",width:512,height:512}),r.a.createElement("path",{id:"arrow",className:"cls-2",d:"M84.29,377.72V329a19.31,19.31,0,0,1,2.76-10.12c1.84-3.06,4.83-5.67,9-7.89l99.56-51.81a131.56,131.56,0,0,1,28.21-10c-5.29-1.3-10.27-2.76-15-4.29a86,86,0,0,1-13.33-5.67L96.1,187.71c-4.22-2.22-7.21-4.83-9-7.89a19.31,19.31,0,0,1-2.76-10.12V121L301.44,235.39v27.67Z"}),r.a.createElement("path",{id:"point",className:"cls-2",d:"M333.25,362.93a43.31,43.31,0,0,1,3.14-16.33,39.64,39.64,0,0,1,8.74-13.26,43.57,43.57,0,0,1,13.33-8.89,40.91,40.91,0,0,1,16.48-3.3,40.24,40.24,0,0,1,16.18,3.3,42.19,42.19,0,0,1,21.92,55,44.12,44.12,0,0,1-8.74,13.18,40.53,40.53,0,0,1-13.18,8.74,41.57,41.57,0,0,1-16.18,3.22,42.55,42.55,0,0,1-16.48-3.22,42,42,0,0,1-13.33-8.74,38.13,38.13,0,0,1-8.74-13.18A43.22,43.22,0,0,1,333.25,362.93Z"})))),gt=function(e){var t=e.svgRef,a=e.title,n=Et(e,["svgRef","title"]);return r.a.createElement("svg",dt({viewBox:"0 0 512 512",ref:t},n),ft,void 0===a?pt:a?r.a.createElement("title",null,a):null,bt)},ht=r.a.forwardRef((function(e,t){return r.a.createElement(gt,dt({svgRef:t},e))})),vt=(a.p,Object(G.a)({logo:{height:"30px",marginRight:"0.5em"},title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}})),_t=function(e){var t=vt();return n.createElement(ut.a,e,n.createElement(ht,{className:t.logo}),n.createElement(ne.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),n.createElement("span",{className:t.spacer}))},yt=a(28),Ot=a(11),jt=a(1028),St=a(70),kt=a(269),Ct=a(358),wt=a.n(Ct),Tt=a(514),At=a.n(Tt),Pt=a(515),Nt=a.n(Pt),xt=a(520),It=a.n(xt),Lt=a(521),Rt=a.n(Lt),Dt=a(270),Ft=a.n(Dt),Mt=a(518),Ut=a.n(Mt),Vt=a(519),Bt=a.n(Vt),Zt=a(517),Ht=a.n(Zt),Wt=a(516),qt=a.n(Wt),Jt=a(130),zt=a(142),Gt=a.n(zt),$t=a(1088),Xt=a(174),Yt=a(1030),Kt=a(1025),Qt=a(570),ea=Object(G.a)((function(e){return{icon:{minWidth:e.spacing(5)},sidebarIsOpen:{"& a":{paddingLeft:e.spacing(4),transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}},sidebarIsClosed:{"& a":{paddingLeft:e.spacing(2),transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}}}})),ta=function(e){var t=e.handleToggle,a=e.sidebarIsOpen,r=e.isOpen,c=e.name,l=e.icon,i=e.children,o=e.dense,s=Object(St.a)(),m=ea(),u=n.createElement(Xt.a,{dense:o,button:!0,onClick:t},n.createElement(Yt.a,{className:m.icon},r?n.createElement(Gt.a,null):l),n.createElement(ne.a,{variant:"inherit",color:"textSecondary"},s(c)));return n.createElement(n.Fragment,null,a||r?u:n.createElement(Qt.a,{title:s(c),placement:"right"},u),n.createElement(Kt.a,{in:r,timeout:"auto",unmountOnExit:!0},n.createElement($t.a,{dense:o,component:"div",disablePadding:!0,className:a?m.sidebarIsOpen:m.sidebarIsClosed},i)))},aa=function(e){var t=e.onMenuClick,a=e.dense,r=e.logout,c=Object(n.useState)({menuTechies:!0,menuSettings:!1}),l=Object(V.a)(c,2),i=l[0],o=l[1],s=Object(St.a)(),m=Object(jt.a)((function(e){return e.breakpoints.down("xs")})),u=Object(Ot.f)((function(e){return e.admin.ui.sidebarOpen}));Object(Ot.f)((function(e){return e.theme}));var d=function(e){o((function(t){return Object(x.a)({},t,Object(yt.a)({},e,!t[e]))}))};return n.createElement(n.Fragment,null," ",n.createElement(ta,{handleToggle:function(){return d("menuTechies")},isOpen:i.menuTechies,sidebarIsOpen:u,name:"trm.menu.techies",icon:n.createElement(wt.a,null),dense:a},n.createElement(kt.a,{to:"/techies",primaryText:"All "+s("resources.techies.name",{smart_count:2}),leftIcon:n.createElement(wt.a,null),onClick:t,sidebarIsOpen:u,dense:a,exact:!0}),n.createElement(kt.a,{to:{pathname:"/techies",search:Object(Jt.stringify)({page:1,perPage:25,sort:"id",order:"DESC",filter:JSON.stringify({state:"APPLICANT"})})},primaryText:s("trm.menu.applications"),leftIcon:n.createElement(At.a,null),onClick:t,sidebarIsOpen:u,dense:a,exact:!0}),n.createElement(kt.a,{to:{pathname:"/techies",search:Object(Jt.stringify)({page:1,perPage:25,sort:"id",order:"DESC",filter:JSON.stringify({state:"LEARNER"})})},primaryText:s("trm.menu.academy"),leftIcon:n.createElement(Nt.a,null),onClick:t,sidebarIsOpen:u,dense:a,exact:!0})),n.createElement(kt.a,{to:"/techie-activity",primaryText:s("trm.menu.techieActivity"),leftIcon:n.createElement(qt.a,null),onClick:t,sidebarIsOpen:u,dense:a,exact:!0}),n.createElement(kt.a,{to:"/csv-import",primaryText:s("trm.menu.csvImport"),leftIcon:n.createElement(Ht.a,null),onClick:t,sidebarIsOpen:u,dense:a,exact:!0}),n.createElement(ta,{handleToggle:function(){return d("menuSettings")},isOpen:i.menuSettings,sidebarIsOpen:u,name:"trm.menu.settings",icon:n.createElement(Ut.a,null),dense:a},n.createElement(kt.a,{to:"/forms",primaryText:s("resources.forms.name",{smart_count:2}),leftIcon:n.createElement(Bt.a,null),onClick:t,sidebarIsOpen:u,dense:a}),n.createElement(kt.a,{to:"/form_responses",primaryText:s("resources.form_responses.name",{smart_count:2}),leftIcon:n.createElement(It.a,null),onClick:t,sidebarIsOpen:u,dense:a}),n.createElement(kt.a,{to:"/semesters",primaryText:s("resources.semesters.name",{smart_count:2}),leftIcon:n.createElement(Rt.a,null),onClick:t,sidebarIsOpen:u,dense:a}),n.createElement(kt.a,{to:"/team_members",primaryText:s("resources.team_members.name",{smart_count:2}),leftIcon:n.createElement(Ft.a,null),onClick:t,sidebarIsOpen:u,dense:a})),m&&r)},na=function(e){return n.createElement(mt.a,Object.assign({},e,{appBar:_t,menu:aa}))},ra=a(1140),ca=a(1121),la=a(1135),ia=a(1113),oa=a(1133),sa=a(1145),ma=a(280),ua=a(1119),da=a(1137),Ea=a(1134),fa=a(1152),pa=a(1124),ba=a(1125),ga=a(1142),ha=a(1112),va=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(ha.a,{source:t,record:r,choices:[{id:"PROSPECT",name:"Prospect"},{id:"APPLICANT",name:"Applicant"},{id:"REJECTED",name:"Rejected"},{id:"LEARNER",name:"Learner"},{id:"DROPPED",name:"Dropped"},{id:"ALUMNI",name:"Alumni"}]})};va.defaultProps={addLabel:!0};var _a=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(ia.a,{source:t,record:r,choices:[{id:"PROSPECT",name:"Prospect"},{id:"APPLICANT",name:"Applicant"},{id:"REJECTED",name:"Rejected"},{id:"LEARNER",name:"Learner"},{id:"DROPPED",name:"Dropped"},{id:"ALUMNI",name:"Alumni"}]})},ya=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(ha.a,{source:t,record:r,choices:[{id:"DS",name:"Data Science"},{id:"AI",name:"Artificial Intelligence"},{id:"WEBDEV",name:"Web Development"},{id:"UX",name:"User Experience Design"}]})};ya.defaultProps={addLabel:!0};var Oa=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(ia.a,{source:t,record:r,choices:[{id:"DS",name:"Data Science"},{id:"AI",name:"Artificial Intelligence"},{id:"WEBDEV",name:"Web Development"},{id:"UX",name:"User Experience Design"}]})};Oa.defaultProps={addLabel:!0};var ja=a(1099),Sa=a(1117),ka=a(1101),Ca=a(1100),wa=a(527),Ta=a.n(wa),Aa=a(48),Pa=a(1107),Na=a(1114),xa=a(1115),Ia=a(41),La=a(1118),Ra=function(e){var t=e.selectedIds,a=Object(n.useState)(!1),r=Object(V.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(null),o=Object(V.a)(i,2),s=o[0],m=o[1],u=Object(Pa.a)(),d=Object(Be.a)(),E=Object(Na.a)(),f=function(){return l(!1)},p=Object(xa.a)("techies",t,{state:s},{onSuccess:function(){u(),d("Techies updated"),E("techies")},onFailure:function(e){return d("Error: techies not updated","warning")}}),b=Object(V.a)(p,1)[0];return n.createElement(n.Fragment,null,n.createElement(Ia.a,{label:"Update State",onClick:function(){return l(!0)}},n.createElement(Ta.a,null)),n.createElement(ja.a,{onClose:f,open:c},n.createElement(Sa.a,null,"Update Techie States"),n.createElement(Ca.a,null,n.createElement(La.a,{record:{state:s},toolbar:null},n.createElement(_a,{source:"state"}),n.createElement(Aa.c,{onChange:function(e){return m(e.values.state)}}))),n.createElement(ka.a,null,n.createElement(Q.a,{onClick:f,color:"primary"},"Cancel"),n.createElement(Q.a,{onClick:function(){s?(b(),l(!1)):d("Select a state first","warning")},color:"primary"},"Update"))))},Da=function(e){var t=e.selectedIds,a=Object(n.useState)(!1),r=Object(V.a)(a,2),c=r[0],l=r[1],i=Object(n.useState)(null),o=Object(V.a)(i,2),s=o[0],m=o[1],u=Object(Pa.a)(),d=Object(Be.a)(),E=Object(Na.a)(),f=function(){return l(!1)},p=Object(xa.a)("techies",t,{assigned_team_member_id:s},{onSuccess:function(){u(),d("Techies updated"),E("techies")},onFailure:function(e){return d("Error: techies not updated","warning")}}),b=Object(V.a)(p,1)[0];return n.createElement(n.Fragment,null,n.createElement(Ia.a,{label:"Update Assigned Team Member",onClick:function(){return l(!0)}},n.createElement(Ft.a,null)),n.createElement(ja.a,{onClose:f,open:c},n.createElement(Sa.a,null,"Update Techie States"),n.createElement(Ca.a,null,n.createElement(La.a,{record:{assignedTeamMemberID:s},toolbar:null},n.createElement(la.a,{label:"Assigned Team Member",source:"assignedTeamMemberID",reference:"team_members"},n.createElement(ia.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})),n.createElement(Aa.c,{onChange:function(e){return m(e.values.assignedTeamMemberID)}}))),n.createElement(ka.a,null,n.createElement(Q.a,{onClick:f,color:"primary"},"Cancel"),n.createElement(Q.a,{onClick:function(){s?(b(),l(!1)):d("Select a team member first","warning")},color:"primary"},"Update"))))},Fa=a(1029),Ma=a(1120),Ua=a(535),Va=a.n(Ua),Ba=function(e){var t=e.record,a=void 0===t?{}:t,r=Object.entries(a.answers).map((function(e){var t=Object(V.a)(e,2),a=t[0],n=t[1];return Object(x.a)({key:a},n)})).sort((function(e,t){return"number"===typeof e.index&&"number"===typeof t.index?e.index-t.index:0}));return n.createElement($t.a,null,r.map((function(e){var t=e.key,a=Object(M.a)(e,["key"]),r=t;a.title&&(r=n.createElement("span",null,a.title," ",n.createElement("i",null,"(",t,")")));var c=a.value;return"text"===a.type?c=a.value.split("\n").map((function(e,t){return n.createElement(n.Fragment,{key:t},e,n.createElement("br",null))})):"choices"===a.type?c=n.createElement("ul",null,a.value.map((function(e){return n.createElement("li",null,e)}))):"boolean"===a.type?c=a.value?"True":"False":"email"===a.type?c=n.createElement("a",{href:"mailto:"+a.value},a.value):("file_url"===a.type||"url"===a.type)&&(c=n.createElement("a",{href:a.value},a.value)),n.createElement(Fa.a,{key:t},n.createElement(Yt.a,null,n.createElement(Va.a,null)),n.createElement(Ma.a,{primary:r,secondary:c}))})))};Ba.defaultProps={addLabel:!0};var Za=function(e){return n.createElement(ra.a,e,n.createElement(ca.a,{label:"Search by last name",source:"last_name",alwaysOn:!0}),n.createElement(ca.a,{source:"email"}),n.createElement(ca.a,{source:"first_name"}),n.createElement(la.a,{label:"Semester",source:"semester_id",reference:"semesters"},n.createElement(ia.a,{optionText:"description"})),n.createElement(la.a,{label:"Assigned Team Member",source:"assigned_team_member_id",reference:"team_members"},n.createElement(ia.a,{optionText:"first_name"})),n.createElement(_a,{source:"state"}),n.createElement(Oa,{source:"track"}),n.createElement(Oa,{source:"application_track_choice"}))},Ha=function(e){return n.createElement(n.Fragment,null,n.createElement(Ra,e),n.createElement(Da,e))},Wa=function(e){return n.createElement(oa.a,Object.assign({},e,{bulkActionButtons:n.createElement(Ha,null),filters:n.createElement(Za,null),perPage:25}),n.createElement(de.a,{rowClick:"edit"},n.createElement(va,{source:"state"}),n.createElement(Ee.a,{source:"first_name"}),n.createElement(Ee.a,{source:"last_name"}),n.createElement(ya,{source:"track"}),n.createElement(sa.a,{label:"Assigned Team Member",source:"assigned_team_member_id",reference:"team_members"},n.createElement(Ee.a,{source:"first_name"}))))},qa=function(e){return n.createElement(ma.a,e,n.createElement(ua.a,null))},Ja=function(e){var t=e.record,a="";return t&&t.first_name&&t.last_name?a=t.first_name+" "+t.last_name:t&&t.techie_key?a=t.techie_key:t&&t.id&&(a=t.id),n.createElement("span",null,"Techie ",n.createElement("strong",null,a))},za=function(e){var t=Object(n.useState)({answers:[]}),a=Object(V.a)(t,2),r=a[0],c=a[1],l=Object(Z.a)();return 0===r.answers.length&&l.getManyReference("form_responses",{target:"techie_id",id:e.id}).then((function(e){var t=e.data.find((function(e){return"APPLICATION"===e.form.form_type}));t&&c(t)})),n.createElement(da.a,Object.assign({title:n.createElement(Ja,null)},e),n.createElement(Ea.a,{toolbar:n.createElement(qa,null)},n.createElement(fa.a,{label:"Master Data"},n.createElement(la.a,{label:"Semester",source:"semester_id",reference:"semesters"},n.createElement(ia.a,{optionText:"description"})),n.createElement(_a,{source:"state"}),n.createElement(ca.a,{source:"first_name"}),n.createElement(ca.a,{source:"last_name"}),n.createElement(ia.a,{source:"gender",allowEmpty:!0,choices:[{id:"male",name:"Male"},{id:"female",name:"Female"}]}),n.createElement(pa.a,{source:"age"}),n.createElement(ca.a,{source:"email"}),n.createElement(ca.a,{source:"google_account"}),n.createElement(ca.a,{source:"github_handle"}),n.createElement(ca.a,{source:"edyoucated_handle"}),n.createElement(ca.a,{source:"linkedin_profile_url"}),n.createElement(ca.a,{source:"slack_member_id"}),n.createElement(ba.a,{source:"receives_certificate",displayNull:!0}),n.createElement(Ee.a,{source:"techie_key"})),n.createElement(fa.a,{label:"Application"},n.createElement(ya,{source:"application_track_choice"}),n.createElement(la.a,{label:"Assigned Team Member",source:"assigned_team_member_id",reference:"team_members"},n.createElement(ia.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})),n.createElement(ba.a,{source:"application_successful",displayNull:!0}),n.createElement(ca.a,{multiline:!0,source:"notes"}),n.createElement(Ba,{record:r,label:"Application Form"})),n.createElement(fa.a,{label:"Academy"},n.createElement(Oa,{source:"track"})),n.createElement(fa.a,{label:"Form Submissions"},n.createElement(ga.a,{label:"Form Responses by Techie",reference:"form_responses",target:"techie_id"},n.createElement(de.a,{rowClick:"show"},n.createElement(Ee.a,{label:"Form Description",source:"form.description"}),n.createElement(Ee.a,{label:"Submission created at",source:"created_at"}))))))},Ga=a(499),$a=a(1126),Xa=a(557),Ya=a(1146),Ka=a(266),Qa=a.n(Ka),en=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(ha.a,{source:t,record:r,choices:[{id:"APPLICATION",name:"Application Form"},{id:"PERSONALIZED",name:"Personalized Form"},{id:"ANONYMOUS",name:"Anonymous Form"}]})};en.defaultProps={addLabel:!0};var tn=a(545),an=a.n(tn),nn=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(an.a,{fromNow:!0},r[t])};nn.defaultProps={addLabel:!0};var rn=a(1091),cn=Object(G.a)((function(e){return{orange:{color:"white !important",backgroundColor:Ne.a[500]},grey:{backgroundColor:xe.a[200]},chip:{margin:e.spacing(.5),borderColor:xe.a[300]},chipActive:{borderColor:Ne.a[500]}}})),ln=function(e){var t=e.label,a=Object(rn.a)().ids,r=cn(),c=0;return a&&(c=a.length),n.createElement(Ae.a,{avatar:n.createElement(Pe.a,{className:c>0?r.orange:r.grey},c),className:r.chip+" "+(c>0&&r.chipActive),label:t,variant:"outlined"})};ln.defaultProps={addLabel:!0};var on=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(ia.a,{source:t,record:r,choices:[{id:"APPLICATION",name:"Application Form"},{id:"PERSONALIZED",name:"Personalized Form"},{id:"ANONYMOUS",name:"Anonymous Form"}]})};on.defaultProps={addLabel:!0};var sn=function(e){return n.createElement(ra.a,e,n.createElement(ca.a,{label:"Search",source:"description",alwaysOn:!0}),n.createElement(ca.a,{source:"form_id"}))},mn=function(e){return n.createElement(oa.a,Object.assign({},e,{filters:n.createElement(sn,null),perPage:25}),n.createElement(de.a,{rowClick:"edit"},n.createElement(Ee.a,{source:"description"}),n.createElement(ga.a,{label:"# Responses",reference:"form_responses",target:"form_id",perPage:1e3},n.createElement(ln,{label:"Responses"})),n.createElement(Ee.a,{source:"typeform_id"}),n.createElement(en,{source:"form_type"})))},un=function(e){var t=e.record,a="";return t&&t.description?a=t.description:t&&t.id&&(a=t.id),n.createElement("span",null,"Form ",n.createElement("strong",null,a))},dn=function(e){var t=Object(Z.a)(),a=n.useState(!1),r=Object(V.a)(a,2),c=r[0],l=r[1],i=n.useState({}),o=Object(V.a)(i,2),s=o[0],m=o[1],u=n.useState(0),d=Object(V.a)(u,2),E=d[0],b=d[1];n.useEffect((function(){(function(){var a=Object(p.a)(f.a.mark((function a(){var n,r,c,i,o,s;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.id){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,t.getOne("forms",{id:e.id});case 4:if((n=a.sent)&&n.data&&"PERSONALIZED"===n.data.form_type){a.next=7;break}return a.abrupt("return");case 7:return l(!0),a.next=10,t.getList("form_responses",{filter:{form_id:e.id}});case 10:return r=a.sent,c=r.data.map((function(e){return e.techie.id})),a.next=14,t.getList("techies",{filter:{semester_id:n.data.semester_id,state:"LEARNER"}});case 14:i=a.sent,o=i.data,s=o.filter((function(e){return!c.includes(e.id)})).reduce((function(e,t){return e[t.id]=t,e}),{}),m(s),b(c.length);case 19:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[e.id,t]);return n.createElement(da.a,Object.assign({title:n.createElement(un,null)},e),n.createElement(Ea.a,null,n.createElement(fa.a,{label:"Form"},n.createElement(la.a,{label:"Semester",source:"semester_id",reference:"semesters"},n.createElement(ia.a,{optionText:"description"})),n.createElement(ca.a,{source:"typeform_id"}),n.createElement(on,{source:"form_type"}),n.createElement(ca.a,{source:"description"}),n.createElement($a.a,{source:"webhook_installed_at",showTime:!0})),n.createElement(fa.a,{label:"Responses (".concat(E,")")},n.createElement(ga.a,{label:"Form Responses",reference:"form_responses",target:"form_id",pagination:n.createElement(Xa.a,null)},n.createElement(de.a,{rowClick:"show"},n.createElement(sa.a,{label:"Techie",source:"techie.id",reference:"techies"},n.createElement(De,null)),n.createElement(Ee.a,{label:"Time",source:"created_at"}),n.createElement(nn,{label:"Time ago",source:"created_at"})))),c&&n.createElement(fa.a,{label:"Pending Responses (".concat(Object.keys(s).length,")")},n.createElement(ue.a,{value:{data:s,ids:Object.keys(s),total:Object.keys(s).length,currentSort:{field:"id",order:"ASC"},basePath:"/techies",resource:"techies",selectedIds:[]}},n.createElement(ee.a,{container:!0,justify:"space-between"},n.createElement(ee.a,{item:!0},n.createElement(ne.a,{variant:"body1"},"As this is a ",n.createElement("i",null,"PERSONALIZED")," form, we expect all Techies with state ",n.createElement("i",null,"LEARNER")," to submit it eventually.",n.createElement("br",null),"Below is a list of ",n.createElement("strong",null,Object.keys(s).length," Techies")," who didn't respond to this form yet:")),n.createElement(ee.a,{item:!0},n.createElement(Q.a,{variant:"contained",color:"primary",onClick:function(){var e=Object.values(s).map((function(e){return Object(ke.pick)(e,["email","techie_key","first_name","last_name"])}));Qa()(e,(function(e,t){Object(Ga.a)(t,"missing_techies.csv")}))}},"Export"))),n.createElement(de.a,null,n.createElement(sa.a,{label:"Techie",source:"id",reference:"techies",sortable:!1},n.createElement(De,null)),n.createElement(Ee.a,{source:"email"}),n.createElement(Ee.a,{source:"techie_key"}))))))},En=function(e){return n.createElement(Ya.a,e,n.createElement(La.a,null,n.createElement(la.a,{label:"Semester",source:"semester_id",reference:"semesters"},n.createElement(ia.a,{optionText:"description"})),n.createElement(ca.a,{source:"typeform_id"}),n.createElement(on,{source:"form_type"}),n.createElement(ca.a,{source:"description"})))},fn=a(1127),pn=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(ha.a,{source:t,record:r,choices:[{id:"2020_01",name:"2020-01 (Summer)"},{id:"2020_02",name:"2020-02 (Winter)"},{id:"2021_01",name:"2021-01 (Summer)"}]})};pn.defaultProps={addLabel:!0};var bn=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(ia.a,{source:t,record:r,choices:[{id:"2020_01",name:"2020-01 (Summer)"},{id:"2020_02",name:"2020-02 (Winter)"},{id:"2021_01",name:"2021-01 (Summer)"}]})};bn.defaultProps={addLabel:!0};var gn=function(e){return n.createElement(oa.a,Object.assign({},e,{perPage:25}),n.createElement(de.a,{rowClick:"edit"},n.createElement(pn,{source:"term"}),n.createElement(Ee.a,{source:"description"})))},hn=function(e){var t=e.record;return t&&t.description?n.createElement("span",null,"Semester ",n.createElement("strong",null,t.description)):t&&t.id?n.createElement("span",null,"Semester ",n.createElement("strong",null,t.id)):n.createElement("span",null,"Semester")},vn=function(e){return n.createElement(da.a,Object.assign({title:n.createElement(hn,null)},e),n.createElement(La.a,null,n.createElement(bn,{source:"term"}),n.createElement(ca.a,{source:"description"}),n.createElement(fn.a,{source:"starts_at"}),n.createElement(fn.a,{source:"application_period_ends_at"}),n.createElement(fn.a,{source:"academy_phase_ends_at"}),n.createElement(fn.a,{source:"ends_at"})))},_n=function(e){return n.createElement(Ya.a,e,n.createElement(La.a,null,n.createElement(bn,{source:"term"}),n.createElement(ca.a,{source:"description"}),n.createElement(fn.a,{source:"starts_at"}),n.createElement(fn.a,{source:"application_period_ends_at"}),n.createElement(fn.a,{source:"academy_phase_ends_at"}),n.createElement(fn.a,{source:"ends_at"})))},yn=a(1143),On=a(1128),jn=a(546),Sn=a.n(jn),kn=function(e){var t=e.source,a=e.record,r=void 0===a?{}:a;return n.createElement(Sn.a,{src:r[t],collapsed:2,collapseStringsAfterLength:60})};kn.defaultProps={addLabel:!0};var Cn=function(e){return n.createElement(ra.a,e,n.createElement(la.a,{label:"Form",source:"form_id",reference:"forms"},n.createElement(ia.a,{optionText:"description"})))},wn=function(e){return n.createElement(oa.a,Object.assign({},e,{filters:n.createElement(Cn,null),perPage:25,sort:{field:"created_at",order:"DESC"}}),n.createElement(de.a,{rowClick:"show"},n.createElement(Ee.a,{source:"form.description"}),n.createElement(sa.a,{label:"Techie",source:"techie.id",reference:"techies"},n.createElement(De,null)),n.createElement(nn,{source:"created_at"})))},Tn=function(e){var t=e.record;return t&&t.form&&t.form.description?n.createElement("span",null,"Form Response to Form ",n.createElement("strong",null,t.form.description)):t&&t.id?n.createElement("span",null,"Form Response ",n.createElement("strong",null,t.id)):n.createElement("span",null,"Form Response")},An=function(e){return n.createElement(yn.a,Object.assign({title:n.createElement(Tn,null)},e),n.createElement(On.a,null,n.createElement(Ea.a,{toolbar:null},n.createElement(fa.a,{label:"Answers"},n.createElement(sa.a,{label:"Form",source:"form_id",reference:"forms"},n.createElement(Ee.a,{source:"description"})),n.createElement(sa.a,{label:"Techie",source:"techie_id",reference:"techies"},n.createElement(De,null)),n.createElement($a.a,{source:"created_at",showTime:!0}),n.createElement(Ba,{label:"Answers"})),n.createElement(fa.a,{label:"Details"},n.createElement(Ee.a,{source:"form_id"}),n.createElement(Ee.a,{source:"techie_id"}),n.createElement(Ee.a,{source:"typeform_response_token"}),n.createElement(kn,{source:"answers"}),n.createElement(kn,{source:"typeform_event"}),n.createElement($a.a,{source:"created_at",showTime:!0})))))},Pn=function(e){return n.createElement(oa.a,Object.assign({},e,{perPage:25}),n.createElement(de.a,{rowClick:"edit"},n.createElement(Ee.a,{source:"first_name"}),n.createElement(Ee.a,{source:"last_name"}),n.createElement(Ee.a,{source:"description"})))},Nn=function(e){var t=e.record;return t&&t.first_name&&t.last_name?n.createElement("span",null,"Team Member ",n.createElement("strong",null,t.first_name," ",t.last_name)):t&&t.id?n.createElement("span",null,"Team Member ",n.createElement("strong",null,t.id)):n.createElement("span",null,"Team Member")},xn=function(e){return n.createElement(da.a,Object.assign({title:n.createElement(Nn,null)},e),n.createElement(La.a,null,n.createElement(ca.a,{source:"first_name"}),n.createElement(ca.a,{source:"last_name"}),n.createElement(ca.a,{source:"email"}),n.createElement(ca.a,{source:"description"})))},In=function(e){return n.createElement(Ya.a,e,n.createElement(La.a,null,n.createElement(ca.a,{source:"first_name"}),n.createElement(ca.a,{source:"last_name"}),n.createElement(ca.a,{source:"email"}),n.createElement(ca.a,{source:"description"})))},Ln=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,{dataProvider:P,authProvider:N,i18nProvider:D,customRoutes:Ve,loginPage:ot,theme:st,layout:na},r.a.createElement(d.a,{name:"techies",list:Wa,edit:za}),r.a.createElement(d.a,{name:"forms",list:mn,edit:dn,create:En}),r.a.createElement(d.a,{name:"form_responses",list:wn,show:An}),r.a.createElement(d.a,{name:"semesters",list:gn,edit:vn,create:_n}),r.a.createElement(d.a,{name:"team_members",list:Pn,edit:xn,create:In}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ln,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},589:function(e,t,a){e.exports=a(1019)},594:function(e,t,a){},801:function(e,t){},803:function(e,t){}},[[589,1,2]]]);
//# sourceMappingURL=main.e496403f.chunk.js.map