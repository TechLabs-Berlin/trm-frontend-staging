(this["webpackJsonptrm-frontend"]=this["webpackJsonptrm-frontend"]||[]).push([[0],{527:function(e,t,r){e.exports=r(925)},532:function(e,t,r){},925:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(21),o=r.n(c),l=(r(532),r(533),r(430)),s=r(431),i=r(495),m=r(499),u=r(1024),d=r(1023),E=r(489),p=r.n(E),f=r(490),_=r.n(f),h=r(491),b=r.n(h),g=r(492),v=r.n(g),P=r(493),y=r.n(P),w=r(318),O=r.n(w),S=r(432),k=r(497),T=r(496),A=r(167),j=r(223),L=r(93),N=r(224),D=r(10),F="https://trm-staging-hasura-xwaitoan6a-ew.a.run.app/v1/graphql",I="https://europe-west3-techlabs-trm-test.cloudfunctions.net/trm-auth-staging",R={clientId:"982186032389-28u4o2ui0up26vtp6ajp4ce7kqd69p7v.apps.googleusercontent.com",hostedDomain:"techlabs.org"},x=null,C=function(){return null!==localStorage.getItem("token")},M=function(){var e=localStorage.getItem("token"),t=new k.a({headers:{Authorization:"Bearer ".concat(e)},uri:F}),r=function(e){var t=Object(L.c)(e);return"form_responses"===e.name&&(t.push(D.field(D.name("form"),null,null,null,D.selectionSet([D.field(D.name("description"))]))),t.push(D.field(D.name("techie"),null,null,null,D.selectionSet([D.field(D.name("first_name")),D.field(D.name("last_name"))])))),t},a=Object(A.a)(j.a,(function(e){return Object(L.d)(e,r,L.e,L.b,L.a)}),N.a);return Object(T.a)({client:t,buildQuery:a})},U=Object(S.a)(O.a.mark((function e(){var t=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==x||!C()){e.next=4;break}return e.next=3,M();case 3:x=e.sent;case 4:if(null===x){e.next=6;break}return e.abrupt("return",x.apply(void 0,t));case 6:return e.abrupt("return",Promise.reject("not logged in"));case 7:case"end":return e.stop()}}),e)}))),W={login:function(e){var t=e.code,r=new Request(I,{method:"POST",body:JSON.stringify({code:t}),headers:new Headers({"Content-Type":"application/json"})});return fetch(r).then((function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()})).then((function(e){var t=e.token;localStorage.setItem("token",t)}))},logout:function(){return localStorage.removeItem("token"),Promise.resolve()},checkAuth:function(e){return localStorage.getItem("token")?Promise.resolve():Promise.reject()},checkError:function(e){return console.log("checkError: ".concat(e)),Promise.resolve()},getPermissions:function(){var e=localStorage.getItem("permissions");return e?Promise.resolve(e):Promise.reject()}},B=r(55),J=r(225),q=r(226),z=Object(B.a)({resources:{techies:{name:"Techie |||| Techies",fields:{first_name:"First Name",last_name:"Last Name",techie_key:"Techie Key"}},forms:{fields:{form_id:"Typeform Form ID",imports_techies:"Imports Techies?"}},form_responses:{name:"Form Response |||| Form Responses",fields:{"form.description":"Form","techie.first_name":"First Name","techie.last_name":"Last Name"}},team_members:{name:"Team Member |||| Team Members",fields:{first_name:"First Name",last_name:"Last Name"}}}},J.a),H=Object(q.a)((function(){return z})),G=r(175),V=r(989),X=r(252),Y=r(987),Z=r(506),K=r(990),Q=r(927),$=r(991),ee=r(494),te=r(446),re=r.n(te),ae=r(442),ne=Object(Y.a)(Q.a)({padding:"30px"}),ce=Object(ee.a)({palette:{background:{default:re.a[200]}},typography:{fontFamily:["Nunito Sans","Helvetica","Arial","sans-serif"]}}),oe=Object(Z.a)({root:{width:"400px",position:"absolute",left:"50%",top:"50%","-webkit-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)"},centeredBlock:{"margin-left":"auto","margin-right":"auto"},centeredText:{"text-align":"center"}}),le=function(e){var t=Object(G.a)(),r=Object(V.a)(),n=oe(e),c=function(e){"code"in e?r({code:e.code}):(console.error(e),t("Sign in with Google failed"))};return a.createElement(K.a,{theme:ce},a.createElement($.a,null),a.createElement(X.a,null),a.createElement("div",{className:n.root},a.createElement(ne,{elevation:3,className:n.centeredText},a.createElement("img",{src:"techlabs-logo.svg",className:n.centeredBlock,alt:"TechLabs Logo"}),a.createElement("h1",{className:n.centeredText},"Techie Relationship Management"),a.createElement(ae.GoogleLogin,{clientId:R.clientId,hostedDomain:R.hostedDomain,scope:"profile email https://www.googleapis.com/auth/admin.directory.group.readonly",responseType:"code",onSuccess:c,onFailure:c,cookiePolicy:"single_host_origin"}))))},se=Object(ee.a)({palette:{primary:{main:"#fb1d5c"}},typography:{fontFamily:["Nunito Sans","Helvetica","Arial","sans-serif"]}}),ie=r(1031),me=r(1001),ue=r(1028),de=r(994),Ee=r(1025),pe=r(1026),fe=r(1012),_e=r(249),he=r(1013),be=r(1029),ge=r(1027),ve=r(1039),Pe=r(1016),ye=r(1034),we=r(993),Oe=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(we.a,{source:t,record:n,choices:[{id:"PROSPECT",name:"Prospect"},{id:"APPLICANT",name:"Applicant"},{id:"REJECTED",name:"Rejected"},{id:"LEARNER",name:"Learner"},{id:"DROPPED",name:"Dropped"},{id:"ALUMNI",name:"Alumni"}]})};Oe.defaultProps={addLabel:!0};var Se=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(de.a,{source:t,record:n,choices:[{id:"PROSPECT",name:"Prospect"},{id:"APPLICANT",name:"Applicant"},{id:"REJECTED",name:"Rejected"},{id:"LEARNER",name:"Learner"},{id:"DROPPED",name:"Dropped"},{id:"ALUMNI",name:"Alumni"}]})};Se.defaultProps={addLabel:!0};var ke=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(we.a,{source:t,record:n,choices:[{id:"DS",name:"Data Science"},{id:"AI",name:"Artificial Intelligence"},{id:"WEBDEV",name:"Web Development"},{id:"UX",name:"User Experience Design"}]})};ke.defaultProps={addLabel:!0};var Te=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(de.a,{source:t,record:n,choices:[{id:"DS",name:"Data Science"},{id:"AI",name:"Artificial Intelligence"},{id:"WEBDEV",name:"Web Development"},{id:"UX",name:"User Experience Design"}]})};Te.defaultProps={addLabel:!0};var Ae=function(e){return a.createElement(ie.a,e,a.createElement(me.a,{label:"Search",source:"techie_key",alwaysOn:!0}),a.createElement(me.a,{source:"email"}),a.createElement(ue.a,{label:"Semester",source:"semester_id",reference:"semesters"},a.createElement(de.a,{optionText:"description"})),a.createElement(Se,{source:"state"}))},je=function(e){return a.createElement(Ee.a,Object.assign({},e,{filters:a.createElement(Ae,null),perPage:25}),a.createElement(pe.a,{rowClick:"edit"},a.createElement(Oe,{source:"state"}),a.createElement(fe.a,{source:"first_name"}),a.createElement(fe.a,{source:"last_name"}),a.createElement(ke,{source:"application_track_choice"})))},Le=function(e){return a.createElement(_e.a,e,a.createElement(he.a,null))},Ne=function(e){var t=e.record,r="";return t&&t.first_name&&t.last_name?r=t.first_name+" "+t.last_name:t&&t.techie_key?r=t.techie_key:t&&t.id&&(r=t.id),a.createElement("span",null,"Techie ",a.createElement("strong",null,r))},De=function(e){return a.createElement(be.a,Object.assign({title:a.createElement(Ne,null)},e),a.createElement(ge.a,{toolbar:a.createElement(Le,null)},a.createElement(ve.a,{label:"Master Data"},a.createElement(ue.a,{label:"Semester",source:"semester_id",reference:"semesters"},a.createElement(de.a,{optionText:"description"})),a.createElement(Se,{source:"state"}),a.createElement(me.a,{source:"first_name"}),a.createElement(me.a,{source:"last_name"}),a.createElement(me.a,{source:"email"}),a.createElement(fe.a,{source:"techie_key"})),a.createElement(ve.a,{label:"Application"},a.createElement(ke,{source:"application_track_choice"}),a.createElement(ue.a,{label:"Assigned Team Member",source:"assigned_team_member_id",reference:"team_members"},a.createElement(de.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})),a.createElement(Pe.a,{source:"application_successful",displayNull:!0}),a.createElement(me.a,{multiline:!0,source:"notes"})),a.createElement(ve.a,{label:"Academy"},a.createElement(Te,{source:"track"})),a.createElement(ve.a,{label:"Form Submissions"},a.createElement(ye.a,{label:"Form Responses by Techie",reference:"form_responses",target:"techie_id"},a.createElement(pe.a,{rowClick:"show"},a.createElement(fe.a,{label:"Form Description",source:"form.description"}),a.createElement(fe.a,{label:"Submission created at",source:"created_at"}))))))},Fe=r(1017),Ie=r(1018),Re=r(1037),xe=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(we.a,{source:t,record:n,choices:[{id:"APPLICATION",name:"Application Form"},{id:"PERSONALIZED",name:"Personalized Form"},{id:"ANONYMOUS",name:"Anonymous Form"}]})};xe.defaultProps={addLabel:!0};var Ce=r(472),Me=r.n(Ce),Ue=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(Me.a,{fromNow:!0},n[t])};Ue.defaultProps={addLabel:!0};var We=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(de.a,{source:t,record:n,choices:[{id:"APPLICATION",name:"Application Form"},{id:"PERSONALIZED",name:"Personalized Form"},{id:"ANONYMOUS",name:"Anonymous Form"}]})};We.defaultProps={addLabel:!0};var Be=function(e){return a.createElement(ie.a,e,a.createElement(me.a,{label:"Search",source:"description",alwaysOn:!0}),a.createElement(me.a,{source:"form_id"}))},Je=function(e){return a.createElement(Ee.a,Object.assign({},e,{filters:a.createElement(Be,null),perPage:25}),a.createElement(pe.a,{rowClick:"edit"},a.createElement(fe.a,{source:"typeform_id"}),a.createElement(xe,{source:"form_type"}),a.createElement(fe.a,{source:"description"})))},qe=function(e){var t=e.record,r="";return t&&t.description?r=t.description:t&&t.id&&(r=t.id),a.createElement("span",null,"Form ",a.createElement("strong",null,r))},ze=function(e){return a.createElement(be.a,Object.assign({title:a.createElement(qe,null)},e),a.createElement(Fe.a,null,a.createElement(ue.a,{label:"Semester",source:"semester_id",reference:"semesters"},a.createElement(de.a,{optionText:"description"})),a.createElement(me.a,{source:"typeform_id"}),a.createElement(We,{source:"form_type"}),a.createElement(me.a,{source:"description"}),a.createElement(Ie.a,{source:"webhook_installed_at",showTime:!0}),a.createElement(ye.a,{label:"Form Responses",reference:"form_responses",target:"form_id"},a.createElement(pe.a,{rowClick:"show"},a.createElement(fe.a,{source:"techie.first_name"}),a.createElement(fe.a,{source:"techie.last_name"}),a.createElement(fe.a,{label:"Time",source:"created_at"}),a.createElement(Ue,{label:"Time ago",source:"created_at"})))))},He=function(e){return a.createElement(Re.a,e,a.createElement(Fe.a,null,a.createElement(ue.a,{label:"Semester",source:"semester_id",reference:"semesters"},a.createElement(de.a,{optionText:"description"})),a.createElement(me.a,{source:"typeform_id"}),a.createElement(We,{source:"form_type"}),a.createElement(me.a,{source:"description"})))},Ge=r(1019),Ve=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(we.a,{source:t,record:n,choices:[{id:"2020_01",name:"2020-01 (Summer)"},{id:"2020_02",name:"2020-02 (Winter)"},{id:"2021_01",name:"2021-01 (Summer)"}]})};Ve.defaultProps={addLabel:!0};var Xe=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(de.a,{source:t,record:n,choices:[{id:"2020_01",name:"2020-01 (Summer)"},{id:"2020_02",name:"2020-02 (Winter)"},{id:"2021_01",name:"2021-01 (Summer)"}]})};Xe.defaultProps={addLabel:!0};var Ye=function(e){return a.createElement(Ee.a,Object.assign({},e,{perPage:25}),a.createElement(pe.a,{rowClick:"edit"},a.createElement(Ve,{source:"term"}),a.createElement(fe.a,{source:"description"})))},Ze=function(e){var t=e.record;return t&&t.description?a.createElement("span",null,"Semester ",a.createElement("strong",null,t.description)):t&&t.id?a.createElement("span",null,"Semester ",a.createElement("strong",null,t.id)):a.createElement("span",null,"Semester")},Ke=function(e){return a.createElement(be.a,Object.assign({title:a.createElement(Ze,null)},e),a.createElement(Fe.a,null,a.createElement(Xe,{source:"term"}),a.createElement(me.a,{source:"description"}),a.createElement(Ge.a,{source:"starts_at"}),a.createElement(Ge.a,{source:"application_period_ends_at"}),a.createElement(Ge.a,{source:"academy_phase_ends_at"}),a.createElement(Ge.a,{source:"ends_at"})))},Qe=function(e){return a.createElement(Re.a,e,a.createElement(Fe.a,null,a.createElement(Xe,{source:"term"}),a.createElement(me.a,{source:"description"}),a.createElement(Ge.a,{source:"starts_at"}),a.createElement(Ge.a,{source:"application_period_ends_at"}),a.createElement(Ge.a,{source:"academy_phase_ends_at"}),a.createElement(Ge.a,{source:"ends_at"})))},$e=r(1035),et=r(1022),tt=r(1038),rt=r(251),at=r(998),nt=r(930),ct=r(1020),ot=r(1021),lt=r(473),st=r.n(lt),it=function(e){var t=e.record,r=void 0===t?{}:t;return a.createElement(at.a,null,Object.entries(r.answers).map((function(e){var t=Object(rt.a)(e,2),r=t[0],n=t[1];return a.createElement(nt.a,{key:r},a.createElement(ct.a,null,a.createElement(st.a,null)),a.createElement(ot.a,{primary:r,secondary:a.createElement("span",null,n.value)}))})))};it.defaultProps={addLabel:!0};var mt=r(474),ut=r.n(mt),dt=function(e){var t=e.source,r=e.record,n=void 0===r?{}:r;return a.createElement(ut.a,{src:n[t],collapsed:2,collapseStringsAfterLength:60})};dt.defaultProps={addLabel:!0};var Et=function(e){return a.createElement(ie.a,e,a.createElement(ue.a,{label:"Form",source:"form_id",reference:"forms"},a.createElement(de.a,{optionText:"description"})))},pt=function(e){return a.createElement(Ee.a,Object.assign({},e,{filters:a.createElement(Et,null),perPage:25,sort:{field:"created_at",order:"DESC"}}),a.createElement(pe.a,{rowClick:"show"},a.createElement(fe.a,{source:"form.description"}),a.createElement(fe.a,{source:"techie.first_name"}),a.createElement(fe.a,{source:"techie.last_name"}),a.createElement(Ue,{source:"created_at"})))},ft=function(e){var t=e.record;return t&&t.form&&t.form.description?a.createElement("span",null,"Form Response to Form ",a.createElement("strong",null,t.form.description)):t&&t.id?a.createElement("span",null,"Form Response ",a.createElement("strong",null,t.id)):a.createElement("span",null,"Form Response")},_t=function(e){return a.createElement($e.a,Object.assign({title:a.createElement(ft,null)},e),a.createElement(et.a,null,a.createElement(ge.a,{toolbar:null},a.createElement(ve.a,{label:"Answers"},a.createElement(tt.a,{label:"Form",source:"form_id",reference:"forms"},a.createElement(fe.a,{source:"description"})),a.createElement(Ie.a,{source:"created_at",showTime:!0}),a.createElement(it,{label:"Answers"})),a.createElement(ve.a,{label:"Details"},a.createElement(fe.a,{source:"form_id"}),a.createElement(fe.a,{source:"techie_id"}),a.createElement(fe.a,{source:"typeform_response_token"}),a.createElement(dt,{source:"answers"}),a.createElement(dt,{source:"typeform_event"}),a.createElement(Ie.a,{source:"created_at",showTime:!0})))))},ht=function(e){return a.createElement(Ee.a,Object.assign({},e,{perPage:25}),a.createElement(pe.a,{rowClick:"edit"},a.createElement(fe.a,{source:"first_name"}),a.createElement(fe.a,{source:"last_name"}),a.createElement(fe.a,{source:"description"})))},bt=function(e){var t=e.record;return t&&t.first_name&&t.last_name?a.createElement("span",null,"Team Member ",a.createElement("strong",null,t.first_name," ",t.last_name)):t&&t.id?a.createElement("span",null,"Team Member ",a.createElement("strong",null,t.id)):a.createElement("span",null,"Team Member")},gt=function(e){return a.createElement(be.a,Object.assign({title:a.createElement(bt,null)},e),a.createElement(Fe.a,null,a.createElement(me.a,{source:"first_name"}),a.createElement(me.a,{source:"last_name"}),a.createElement(me.a,{source:"email"}),a.createElement(me.a,{source:"description"})))},vt=function(e){return a.createElement(Re.a,e,a.createElement(Fe.a,null,a.createElement(me.a,{source:"first_name"}),a.createElement(me.a,{source:"last_name"}),a.createElement(me.a,{source:"email"}),a.createElement(me.a,{source:"description"})))},Pt=function(e){Object(m.a)(r,e);var t=Object(i.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return n.a.createElement(u.a,{dataProvider:U,authProvider:W,i18nProvider:H,loginPage:le,theme:se},n.a.createElement(d.a,{name:"techies",list:je,edit:De,icon:p.a}),n.a.createElement(d.a,{name:"forms",list:Je,edit:ze,create:He,icon:_.a}),n.a.createElement(d.a,{name:"form_responses",list:pt,show:_t,icon:b.a}),n.a.createElement(d.a,{name:"semesters",list:Ye,edit:Ke,create:Qe,icon:v.a}),n.a.createElement(d.a,{name:"team_members",list:ht,edit:gt,create:vt,icon:y.a}))}}]),r}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[527,1,2]]]);
//# sourceMappingURL=main.2125545c.chunk.js.map